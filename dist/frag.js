!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(e="undefined"!=typeof globalThis?globalThis:e||self).Frag=n()}(this,(function(){"use strict";function e(e,n){Object.getOwnPropertyDescriptor(e,"parentNode")||Object.defineProperty(e,"parentNode",{get:function(){return n}})}return{inserted:function(n){var r=Array.from(n.childNodes),t=n.parentNode,i=document.createDocumentFragment();i.append.apply(i,n.childNodes),n.replaceWith(i),n.frag=r;var o=t.insertBefore,f=t.removeChild;Object.assign(t,{insertBefore:function(e,i){return o.call(t,e,i===n?r[0]:i)},removeChild:function(e){return e===n?(n.append.apply(n,n.frag),void n.frag.splice(0)):Reflect.apply(f,this,arguments)}}),e(n,t),r.forEach((function(r){return e(r,n)})),Object.assign(n,{insertBefore:function(t,i){var o=r.indexOf(i);o>-1&&r.splice(o,0,t);var f=i.parentElement.insertBefore(t,i);return e(f,n),f},removeChild:function(e){var n=r.indexOf(e);return n>-1&&r.splice(n,1),e.remove()},appendChild:function(i){var o=r.length;o>0?r[o-1].after(i):t.append(i);e(i,n),r.push(i)}})}}}));
